{"ast":null,"code":"import _slicedToArray from\"/Users/dcash/Desktop/react_portfolio/react-rmdb-starterFiles_rev1/React_MDB_App_Portfolio_Example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{POSTER_SIZE,BACKDROP_SIZE,IMAGE_BASE_URL,POPULAR_BASE_URL,SEARCH_BASE_URL}from'../config';// import Components\nimport HeroImage from'./elements/HeroImage';import SearchBar from'./elements/SearchBar';import Grid from'./elements/Grid';import MovieThumb from'./elements/MovieThumb';import LoadMoreBtn from'./elements/LoadMoreBtn';import Spinner from'./elements/Spinner';// Custom Hook\nimport{useHomeFetch}from'./hooks/useHomeFetch';import NoImage from'./images/no_image.jpg';var Home=function Home(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var _useHomeFetch=useHomeFetch(searchTerm),_useHomeFetch2=_slicedToArray(_useHomeFetch,2),_useHomeFetch2$=_useHomeFetch2[0],_useHomeFetch2$$state=_useHomeFetch2$.state,movies=_useHomeFetch2$$state.movies,currentPage=_useHomeFetch2$$state.currentPage,totalPages=_useHomeFetch2$$state.totalPages,heroImage=_useHomeFetch2$$state.heroImage,loading=_useHomeFetch2$.loading,error=_useHomeFetch2$.error,fetchMovies=_useHomeFetch2[1];var searchMovies=function searchMovies(search){var endpoint=search?SEARCH_BASE_URL+search:POPULAR_BASE_URL;setSearchTerm(search);fetchMovies(endpoint);};var loadMoreMovies=function loadMoreMovies(){var searchEndpoint=\"\".concat(SEARCH_BASE_URL).concat(searchTerm,\"&page=\").concat(currentPage+1);var popularEndpoint=\"\".concat(POPULAR_BASE_URL,\"&page=\").concat(currentPage+1);var endpoint=searchTerm?searchEndpoint:popularEndpoint;fetchMovies(endpoint);};if(error)return/*#__PURE__*/React.createElement(\"div\",null,\"Something went wrong ...\");if(!movies[0])return/*#__PURE__*/React.createElement(Spinner,null);return/*#__PURE__*/React.createElement(React.Fragment,null,!searchTerm&&/*#__PURE__*/React.createElement(HeroImage,{image:\"\".concat(IMAGE_BASE_URL).concat(BACKDROP_SIZE).concat(heroImage.backdrop_path),title:heroImage.original_title,text:heroImage.overview}),/*#__PURE__*/React.createElement(SearchBar,{callback:searchMovies}),/*#__PURE__*/React.createElement(Grid,{header:searchTerm?'Search Result':'Popular Movies'},movies.map(function(movie){return/*#__PURE__*/React.createElement(MovieThumb,{key:movie.id,clickable:true,image:movie.poster_path?IMAGE_BASE_URL+POSTER_SIZE+movie.poster_path:NoImage,movieId:movie.id,movieName:movie.original_title});})),loading&&/*#__PURE__*/React.createElement(Spinner,null),currentPage<totalPages&&!loading&&/*#__PURE__*/React.createElement(LoadMoreBtn,{text:\"Load More\",callback:loadMoreMovies}));};export default Home;","map":{"version":3,"sources":["/Users/dcash/Desktop/react_portfolio/react-rmdb-starterFiles_rev1/React_MDB_App_Portfolio_Example/src/components/Home.js"],"names":["React","useState","POSTER_SIZE","BACKDROP_SIZE","IMAGE_BASE_URL","POPULAR_BASE_URL","SEARCH_BASE_URL","HeroImage","SearchBar","Grid","MovieThumb","LoadMoreBtn","Spinner","useHomeFetch","NoImage","Home","searchTerm","setSearchTerm","state","movies","currentPage","totalPages","heroImage","loading","error","fetchMovies","searchMovies","search","endpoint","loadMoreMovies","searchEndpoint","popularEndpoint","backdrop_path","original_title","overview","map","movie","id","poster_path"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport {\n  POSTER_SIZE,\n  BACKDROP_SIZE,\n  IMAGE_BASE_URL,\n  POPULAR_BASE_URL,\n  SEARCH_BASE_URL\n} from '../config';\n\n// import Components\nimport HeroImage from './elements/HeroImage';\nimport SearchBar from './elements/SearchBar';\nimport Grid from './elements/Grid';\nimport MovieThumb from './elements/MovieThumb';\nimport LoadMoreBtn from './elements/LoadMoreBtn';\nimport Spinner from './elements/Spinner';\n\n// Custom Hook\nimport { useHomeFetch } from './hooks/useHomeFetch';\n\nimport NoImage from './images/no_image.jpg';\n\nconst Home = () => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [\n    {\n      state: { movies, currentPage, totalPages, heroImage },\n      loading,\n      error,\n    },\n    fetchMovies,\n  ] = useHomeFetch(searchTerm);\n\n  const searchMovies = search => {\n    const endpoint = search ? SEARCH_BASE_URL + search : POPULAR_BASE_URL;\n\n    setSearchTerm(search);\n    fetchMovies(endpoint);\n  }\n\n\n  const loadMoreMovies = () => {\n    const searchEndpoint = `${SEARCH_BASE_URL}${searchTerm}&page=${currentPage + 1}`;\n    const popularEndpoint = `${POPULAR_BASE_URL}&page=${currentPage + 1}`;\n\n    const endpoint = searchTerm ? searchEndpoint : popularEndpoint;\n\n    fetchMovies(endpoint);\n\n  }\n\n  if (error) return <div>Something went wrong ...</div>;\n  if (!movies[0]) return <Spinner />;\n\n  return (\n    <>\n      { !searchTerm && (\n      <HeroImage\n        image={`${IMAGE_BASE_URL}${BACKDROP_SIZE}${heroImage.backdrop_path}`}\n        title={heroImage.original_title}\n        text={heroImage.overview}\n      />\n      )}\n      <SearchBar callback={searchMovies}/>\n      <Grid header={searchTerm ? 'Search Result' : 'Popular Movies'}>\n        {movies.map(movie => (\n          <MovieThumb\n            key={movie.id}\n            clickable\n            image={\n              movie.poster_path\n                ? IMAGE_BASE_URL + POSTER_SIZE + movie.poster_path\n                : NoImage\n            }\n            movieId={movie.id}\n            movieName={movie.original_title}\n          />\n        ))}\n      </Grid>\n      {loading && <Spinner />}\n      {currentPage < totalPages && !loading && (\n      <LoadMoreBtn text=\"Load More\" callback={loadMoreMovies} /> )}\n    </>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}